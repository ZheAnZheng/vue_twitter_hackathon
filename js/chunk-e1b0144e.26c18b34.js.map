{"version":3,"sources":["webpack:///./src/components/AdminTweetList.vue?4757","webpack:///./src/components/AdminTweetList.vue?d23e","webpack:///./src/components/AdminTweetListCard.vue?906a","webpack:///src/components/AdminTweetListCard.vue","webpack:///./src/components/AdminTweetListCard.vue?895f","webpack:///./src/components/AdminTweetListCard.vue","webpack:///src/components/AdminTweetList.vue","webpack:///./src/components/AdminTweetList.vue?206b","webpack:///./src/components/AdminTweetList.vue","webpack:///./src/components/UI/BaseSpinner.vue?64b1","webpack:///./src/components/UI/BaseSpinner.vue?cc13","webpack:///./src/components/UI/BaseSpinner.vue","webpack:///./src/components/AdminTweetListCard.vue?be45"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_e","attrs","_l","tweet","key","id","on","handleDeleteTweet","staticRenderFns","_f","image","_v","_s","name","account","createdAt","tweetContentLimit","tweetContent","$event","deleteTweet","mixins","props","initialTweet","type","required","methods","tweetId","$emit","content","length","data","component","components","adminTweetListCard","BaseSpinner","tweetLists","isLoading","created","fetchTweetLists","adminAPI","tweets","console","toast","_m","script"],"mappings":"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","file":"js/chunk-e1b0144e.26c18b34.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetList.vue?vue&type=style&index=0&id=260bd0ee&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-tweet-list-container\"},[(_vm.isLoading)?_c('BaseSpinner'):_vm._e(),_c('transition-group',{attrs:{\"name\":\"slide\",\"tag\":\"li\",\"mode\":\"out-in\"}},_vm._l((_vm.tweetLists),function(tweet){return _c('adminTweetListCard',{key:tweet.id,attrs:{\"initial-tweet\":tweet},on:{\"after-delete-tweet\":_vm.handleDeleteTweet}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-wrapper\"},[_c('img',{attrs:{\"src\":_vm._f(\"imageFilter\")(_vm.tweet.image),\"alt\":\"user-image\"}}),_c('div',{staticClass:\"user-info\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.tweet.name))]),_c('span',{staticClass:\"account\"},[_vm._v(_vm._s(_vm._f(\"addAtFilter\")(_vm.tweet.account)))]),_c('span',{staticClass:\"dot\"},[_vm._v(\"·\")]),_c('span',{staticClass:\"created-time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt)))]),_c('div',{staticClass:\"user-tweet\"},[_vm._v(\" \"+_vm._s(_vm.tweetContentLimit(_vm.tweet.tweetContent))+\" \")])]),_c('div',{staticClass:\"cross-icon\"},[_c('i',{staticClass:\"fas fa-times\",on:{\"click\":function($event){return _vm.deleteTweet(_vm.tweet.id)}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card-wrapper\">\n    <img :src=\"tweet.image | imageFilter\" alt=\"user-image\" />\n    <div class=\"user-info\">\n      <span class=\"name\">{{ tweet.name }}</span>\n      <span class=\"account\">{{ tweet.account | addAtFilter }}</span>\n      <span class=\"dot\">·</span>\n      <span class=\"created-time\">{{ tweet.createdAt | fromNow }}</span>\n      <div class=\"user-tweet\">\n        {{ tweetContentLimit(tweet.tweetContent) }}\n      </div>\n    </div>\n    <div class=\"cross-icon\">\n      <i class=\"fas fa-times\" @click=\"deleteTweet(tweet.id)\"></i>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Filters } from \"../utils/mixins\";\nimport { emptyImageFilter, dateFilter } from \"../utils/mixins\";\n\nexport default {\n  name: \"adminTweetListCard\",\n  mixins: [Filters, emptyImageFilter, dateFilter],\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    deleteTweet(tweetId) {\n      // 將刪除推文事件傳遞至父元件\n      this.$emit(\"after-delete-tweet\", tweetId);\n    },\n    // tweet內容超過50字的加...\n    tweetContentLimit(content) {\n      if (content.length === 50) {\n        return content + \"...\";\n      } else {\n        return content;\n      }\n    },\n  },\n  data() {\n    return {\n      tweet: {\n        ...this.initialTweet,\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 載入extend的file\n@import \"../assets/scss/extends.scss\";\n\n.card-wrapper {\n  position: relative;\n  display: flex;\n  border-bottom: 1px solid var(--share-border-color);\n  width: 150%;\n  padding: 1rem;\n  // 使用者圖像樣式設定\n  > img {\n    @extend %share-avatar-style;\n  }\n  // 使用者資訊樣式設定\n  > .user-info {\n    margin-left: 1rem;\n    > .account,\n    .dot,\n    .created-time {\n      @extend %share-user-info-style;\n    }\n  }\n  // 叉按鈕樣式設定\n  > .cross-icon {\n    position: absolute;\n    top: 0.5rem;\n    right: 1rem;\n    font-size: 1.5rem;\n    color: var(--mute-color);\n    cursor: pointer;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTweetListCard.vue?vue&type=template&id=3720e6cb&scoped=true&\"\nimport script from \"./AdminTweetListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTweetListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminTweetListCard.vue?vue&type=style&index=0&id=3720e6cb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3720e6cb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"admin-tweet-list-container\">\n    <BaseSpinner v-if=\"isLoading\" />\n    <transition-group name=\"slide\" tag=\"li\" mode=\"out-in\">\n      <adminTweetListCard\n        v-for=\"tweet in tweetLists\"\n        :key=\"tweet.id\"\n        :initial-tweet=\"tweet\"\n        @after-delete-tweet=\"handleDeleteTweet\"\n      />\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport adminTweetListCard from \"../components/AdminTweetListCard.vue\";\nimport adminAPI from \"../apis/admin\";\nimport { toast } from \"../utils/helper\";\nimport BaseSpinner from \"../components/UI/BaseSpinner.vue\";\n\nexport default {\n  name: \"adminTweetList\",\n  components: {\n    adminTweetListCard,\n    BaseSpinner,\n  },\n  data() {\n    return {\n      tweetLists: [],\n      isLoading: true,\n    };\n  },\n  created() {\n    this.fetchTweetLists();\n  },\n  methods: {\n    // 向伺服器取得所有推文的函式\n    async fetchTweetLists() {\n      try {\n        const { data } = await adminAPI.tweets.getAll();\n        const { tweets } = data;\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        // 將取得的tweets放回tweetLists中\n        this.tweetLists = tweets.map((tweet) => {\n          const { name, account, avatar } = tweet.User;\n          const { id, description, createdAt } = tweet;\n\n          return {\n            id,\n            name,\n            account,\n            image: avatar,\n            tweetContent: description,\n            createdAt,\n          };\n        });\n\n        this.isLoading = false;\n      } catch (error) {\n        console.log(\"Error\", error);\n        toast.fireError(\"目前無法取得所有推文，請稍後再試\");\n      }\n    },\n    // 向伺服器傳送刪除推文的函式\n    async handleDeleteTweet(tweetId) {\n      try {\n        // 透過API向伺服器刪除推文\n        const { data } = await adminAPI.tweets.delete({ tweetId });\n\n        if (data.status !== \"success\") {\n          toast.fireError(\"目前無法刪除推文，請稍後再試\");\n          throw new Error(data.message);\n        } else {\n          toast.fireSuccess(\"成功刪除推文\");\n        }\n        // 將點擊到的推文刪除\n        this.tweetLists = this.tweetLists.filter(\n          (tweet) => tweet.id !== tweetId\n        );\n      } catch (error) {\n        console.log(\"Error\", error);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.slide-leave {\n  transform: translateX(0);\n  opacity: 1;\n}\n.slide-leave-active,\n.slide-move {\n  transition: all 1s ease;\n}\n.slide-leave-to {\n  transform: translateX(1000px);\n  opacity: 0;\n}\n.slide-leave-active {\n  position: absolute;\n  z-index: 9999;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTweetList.vue?vue&type=template&id=260bd0ee&scoped=true&\"\nimport script from \"./AdminTweetList.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTweetList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminTweetList.vue?vue&type=style&index=0&id=260bd0ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"260bd0ee\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSpinner.vue?vue&type=style&index=0&id=f131ec16&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"ball-box\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BaseSpinner.vue?vue&type=template&id=f131ec16&scoped=true&\"\nvar script = {}\nimport style0 from \"./BaseSpinner.vue?vue&type=style&index=0&id=f131ec16&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f131ec16\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetListCard.vue?vue&type=style&index=0&id=3720e6cb&lang=scss&scoped=true&\""],"sourceRoot":""}