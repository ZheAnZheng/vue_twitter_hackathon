{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./src/components/TweetList.vue?6f92","webpack:///src/components/TweetList.vue","webpack:///./src/components/TweetList.vue?9e28","webpack:///./src/components/TweetList.vue","webpack:///./src/components/UI/BaseSpinner.vue?64b1","webpack:///./src/components/UI/BaseSpinner.vue?cc13","webpack:///./src/components/UI/BaseSpinner.vue","webpack:///./src/components/TweetList.vue?bea0"],"names":["_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","tweet","Math","random","id","attrs","name","params","UserId","_f","userAvatar","_v","_s","userName","userAccount","createdAt","description","on","$event","$emit","repliedCount","class","activeButton","isProcessingButton","isProcessing","deleteLike","likedCount","addLike","directives","rawName","value","tweets","expression","staticRenderFns","mixins","components","BaseSpinner","created","routeName","fetchIndexTweets","fetchUserTweets","fetchUserLikeTweets","data","isLoading","prcessingTweetId","watch","$route","to","methods","userId","toast","console","tweetId","tryFetchUserTweets","usersAPI","response","Error","tryFetchUserLikeTweets","updatedAt","isLiked","tryFetchIndex","tweetsAPI","tryAddLike","tryDeleteLike","filters","emptyFilter","val","component","_m","script"],"mappings":"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","file":"js/chunk-35d324c9.3d994112.js","sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"container\"},[(_vm.isLoading)?_c('BaseSpinner'):[_vm._l((_vm.tweets),function(tweet){return _c('li',{key:(\"\" + (Math.random() + tweet.id)),staticClass:\"tweet-item\"},[_c('router-link',{attrs:{\"to\":{ name: 'userTweets', params: { id: tweet.UserId } }}},[_c('img',{staticClass:\"image\",attrs:{\"src\":_vm._f(\"imageFilter\")(tweet.userAvatar)}})]),_c('router-link',{attrs:{\"to\":{ name: 'tweetStory', params: { id: tweet.id } }}},[_c('div',{staticClass:\"tweet-context\"},[_c('div',{staticClass:\"tweet-info\"},[_c('router-link',{staticClass:\"name\",attrs:{\"to\":{ name: 'userTweets', params: { id: tweet.UserId } }}},[_vm._v(_vm._s(tweet.userName))]),_c('div',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(tweet.userAccount))]),_c('div',{staticClass:\"dot\"},[_vm._v(\"．\")]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(tweet.createdAt)))])],1),_c('div',{staticClass:\"tweet-content\"},[_c('p',[_vm._v(\" \"+_vm._s(tweet.description)+\" \")])])])]),_c('div',{staticClass:\"tweet-relative\"},[_c('button',{staticClass:\"message\",on:{\"click\":function($event){return _vm.$emit('openReplyModal', { tweet: tweet })}}},[_c('svg',{attrs:{\"width\":\"13\",\"height\":\"13\",\"viewBox\":\"0 0 13 13\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M7.77881 0.40127L5.18631 0.39502H5.18506C2.45131 0.39502 0.310059 2.53689 0.310059 5.27127C0.310059 7.83252 2.30131 9.77502 4.97568 9.87752V12.27C4.97568 12.3375 5.00318 12.4488 5.05068 12.5219C5.13943 12.6625 5.29068 12.7388 5.44568 12.7388C5.53193 12.7388 5.61881 12.715 5.69693 12.665C5.86193 12.56 9.74256 10.0775 10.7519 9.22377C11.9407 8.21752 12.6519 6.74252 12.6538 5.27877V5.26814C12.6501 2.53877 10.5101 0.401269 7.77881 0.400644V0.40127ZM10.1457 8.50877C9.43693 9.10877 7.10693 10.6369 5.91318 11.4106V9.41877C5.91318 9.16002 5.70381 8.95002 5.44443 8.95002H5.19693C2.90943 8.95002 1.24818 7.40252 1.24818 5.27127C1.24818 3.06252 2.97818 1.33252 5.18568 1.33252L7.77756 1.33877H7.77881C9.98631 1.33877 11.7163 3.06752 11.7176 5.27377C11.7157 6.46752 11.1288 7.67627 10.1463 8.50877H10.1457Z\",\"fill\":\"#657786\"}})]),_c('span',[_vm._v(_vm._s(_vm._f(\"emptyFilter\")(tweet.repliedCount)))])]),(tweet.isLiked)?_c('button',{staticClass:\"like\",class:{ activeButton: _vm.isProcessingButton(tweet.id) },attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteLike(tweet.id)}}},[_c('svg',{attrs:{\"width\":\"22\",\"height\":\"20\",\"viewBox\":\"0 0 22 20\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 19.6381H10.986C8.40295 19.5901 0.949951 12.8561 0.949951 6.47812C0.949951 3.41412 3.47495 0.724121 6.35295 0.724121C8.64295 0.724121 10.183 2.30412 10.999 3.45412C11.813 2.30612 13.353 0.724121 15.644 0.724121C18.524 0.724121 21.048 3.41412 21.048 6.47912C21.048 12.8551 13.594 19.5891 11.011 19.6361H11V19.6381Z\",\"fill\":\"#E0245E\"}})]),_c('span',{staticClass:\"like-text\"},[_vm._v(_vm._s(_vm._f(\"emptyFilter\")(tweet.likedCount)))])]):_c('button',{staticClass:\"like\",class:{ activeButton: _vm.isProcessingButton(tweet.id) },attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.addLike(tweet.id)}}},[_c('svg',{attrs:{\"width\":\"13\",\"height\":\"13\",\"viewBox\":\"0 0 13 13\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M6.5 12.5236H6.49125C4.87687 12.4936 0.21875 8.28489 0.21875 4.29864C0.21875 2.38364 1.79687 0.702393 3.59562 0.702393C5.02687 0.702393 5.98937 1.68989 6.49937 2.40864C7.00812 1.69114 7.97062 0.702393 9.4025 0.702393C11.2025 0.702393 12.78 2.38364 12.78 4.29927C12.78 8.28427 8.12125 12.493 6.50687 12.5224H6.5V12.5236ZM3.59625 1.64052C2.29625 1.64052 1.15687 2.88302 1.15687 4.29989C1.15687 7.88739 5.55312 11.5474 6.50062 11.5861C7.44937 11.5474 11.8444 7.88802 11.8444 4.29989C11.8444 2.88302 10.705 1.64052 9.405 1.64052C7.825 1.64052 6.9425 3.47552 6.935 3.49364C6.79125 3.84489 6.2125 3.84489 6.06812 3.49364C6.05937 3.47489 5.1775 1.64052 3.59687 1.64052H3.59625Z\",\"fill\":\"#657786\"}})]),_c('span',[_vm._v(_vm._s(_vm._f(\"emptyFilter\")(tweet.likedCount)))])])])],1)}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tweets.length),expression:\"!tweets.length\"}],staticClass:\"tweet-item\"},[_c('div',{staticClass:\"no-data-item\"},[_vm._v(\"暫無推文資料\")])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"container\">\n    <BaseSpinner v-if=\"isLoading\" />\n    <template v-else>\n      <li\n        v-for=\"tweet in tweets\"\n        :key=\"`${Math.random() + tweet.id}`\"\n        class=\"tweet-item\"\n      >\n        <router-link :to=\"{ name: 'userTweets', params: { id: tweet.UserId } }\">\n          <img class=\"image\" :src=\"tweet.userAvatar | imageFilter\" />\n        </router-link>\n        <router-link :to=\"{ name: 'tweetStory', params: { id: tweet.id } }\">\n          <div class=\"tweet-context\">\n            <div class=\"tweet-info\">\n              <router-link\n                class=\"name\"\n                :to=\"{ name: 'userTweets', params: { id: tweet.UserId } }\"\n                >{{ tweet.userName }}</router-link\n              >\n              <div class=\"account\">@{{ tweet.userAccount }}</div>\n              <div class=\"dot\">．</div>\n              <div class=\"time\">{{ tweet.createdAt | fromNow }}</div>\n            </div>\n            <div class=\"tweet-content\">\n              <p>\n                {{ tweet.description }}\n              </p>\n            </div>\n          </div>\n        </router-link>\n        <div class=\"tweet-relative\">\n          <button class=\"message\" @click=\"$emit('openReplyModal', { tweet })\">\n            <svg\n              width=\"13\"\n              height=\"13\"\n              viewBox=\"0 0 13 13\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M7.77881 0.40127L5.18631 0.39502H5.18506C2.45131 0.39502 0.310059 2.53689 0.310059 5.27127C0.310059 7.83252 2.30131 9.77502 4.97568 9.87752V12.27C4.97568 12.3375 5.00318 12.4488 5.05068 12.5219C5.13943 12.6625 5.29068 12.7388 5.44568 12.7388C5.53193 12.7388 5.61881 12.715 5.69693 12.665C5.86193 12.56 9.74256 10.0775 10.7519 9.22377C11.9407 8.21752 12.6519 6.74252 12.6538 5.27877V5.26814C12.6501 2.53877 10.5101 0.401269 7.77881 0.400644V0.40127ZM10.1457 8.50877C9.43693 9.10877 7.10693 10.6369 5.91318 11.4106V9.41877C5.91318 9.16002 5.70381 8.95002 5.44443 8.95002H5.19693C2.90943 8.95002 1.24818 7.40252 1.24818 5.27127C1.24818 3.06252 2.97818 1.33252 5.18568 1.33252L7.77756 1.33877H7.77881C9.98631 1.33877 11.7163 3.06752 11.7176 5.27377C11.7157 6.46752 11.1288 7.67627 10.1463 8.50877H10.1457Z\"\n                fill=\"#657786\"\n              />\n            </svg>\n\n            <span>{{ tweet.repliedCount | emptyFilter }}</span>\n          </button>\n          <!-- 實心 -->\n          <button\n            class=\"like\"\n            v-if=\"tweet.isLiked\"\n            :disabled=\"isProcessing\"\n            :class=\"{ activeButton: isProcessingButton(tweet.id) }\"\n            @click=\"deleteLike(tweet.id)\"\n          >\n            <svg\n              width=\"22\"\n              height=\"20\"\n              viewBox=\"0 0 22 20\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M11 19.6381H10.986C8.40295 19.5901 0.949951 12.8561 0.949951 6.47812C0.949951 3.41412 3.47495 0.724121 6.35295 0.724121C8.64295 0.724121 10.183 2.30412 10.999 3.45412C11.813 2.30612 13.353 0.724121 15.644 0.724121C18.524 0.724121 21.048 3.41412 21.048 6.47912C21.048 12.8551 13.594 19.5891 11.011 19.6361H11V19.6381Z\"\n                fill=\"#E0245E\"\n              />\n            </svg>\n\n            <span class=\"like-text\">{{ tweet.likedCount | emptyFilter }}</span>\n          </button>\n          <!-- 空心 -->\n          <button\n            class=\"like\"\n            :class=\"{ activeButton: isProcessingButton(tweet.id) }\"\n            v-else\n            @click=\"addLike(tweet.id)\"\n            :disabled=\"isProcessing\"\n          >\n            <svg\n              width=\"13\"\n              height=\"13\"\n              viewBox=\"0 0 13 13\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M6.5 12.5236H6.49125C4.87687 12.4936 0.21875 8.28489 0.21875 4.29864C0.21875 2.38364 1.79687 0.702393 3.59562 0.702393C5.02687 0.702393 5.98937 1.68989 6.49937 2.40864C7.00812 1.69114 7.97062 0.702393 9.4025 0.702393C11.2025 0.702393 12.78 2.38364 12.78 4.29927C12.78 8.28427 8.12125 12.493 6.50687 12.5224H6.5V12.5236ZM3.59625 1.64052C2.29625 1.64052 1.15687 2.88302 1.15687 4.29989C1.15687 7.88739 5.55312 11.5474 6.50062 11.5861C7.44937 11.5474 11.8444 7.88802 11.8444 4.29989C11.8444 2.88302 10.705 1.64052 9.405 1.64052C7.825 1.64052 6.9425 3.47552 6.935 3.49364C6.79125 3.84489 6.2125 3.84489 6.06812 3.49364C6.05937 3.47489 5.1775 1.64052 3.59687 1.64052H3.59625Z\"\n                fill=\"#657786\"\n              />\n            </svg>\n            <span>{{ tweet.likedCount | emptyFilter }}</span>\n          </button>\n        </div>\n      </li>\n      <li class=\"tweet-item\" v-show=\"!tweets.length\">\n        <div class=\"no-data-item\">暫無推文資料</div>\n      </li>\n    </template>\n  </ul>\n</template>\n\n<script>\nimport { emptyImageFilter, dateFilter } from \"../utils/mixins.js\";\nimport BaseSpinner from \"../components/UI/BaseSpinner.vue\";\nimport tweetsAPI from \"../apis/tweets.js\";\nimport usersAPI from \"../apis/users.js\";\nimport { toast } from \"../utils/helper.js\";\n\nexport default {\n  mixins: [emptyImageFilter, dateFilter],\n  components: {\n    BaseSpinner,\n  },\n  created() {\n    const routeName = this.$route.name;\n    const { id } = this.$route.params;\n    if (routeName === \"main\") {\n      this.fetchIndexTweets();\n    } else if (routeName === \"userTweets\") {\n      this.fetchUserTweets(id);\n    } else if (routeName === \"likeTweets\") {\n      this.fetchUserLikeTweets(id);\n    }\n  },\n  data() {\n    return {\n      tweets: [],\n      isLoading: true,\n      isProcessing: false,\n      prcessingTweetId: 0,\n    };\n  },\n  watch: {\n    $route(to) {\n      const { id } = to.params;\n      this.isLoading = true;\n      if (to.name === \"userTweets\") {\n        this.fetchUserTweets(id);\n      } else if (to.name === \"likeTweets\") {\n        this.fetchUserLikeTweets(id);\n      }\n    },\n  },\n  methods: {\n    async fetchUserTweets(userId) {\n      try {\n        await this.tryFetchUserTweets(userId);\n        this.isLoading = false;\n      } catch (e) {\n        toast.fireError(\"無法存取資料\");\n        console.log(e);\n      }\n    },\n    async fetchUserLikeTweets(userId) {\n      try {\n        await this.tryFetchUserLikeTweets(userId);\n        this.isLoading = false;\n      } catch (e) {\n        console.log(e);\n        toast.fireError(\"無法讀取喜歡過推文\");\n      }\n    },\n    async fetchIndexTweets() {\n      try {\n        await this.tryFetchIndex();\n        this.isLoading = false;\n      } catch (e) {\n        console.log(e);\n        toast.fireError(\"無法讀取主頁\");\n      }\n    },\n    async addLike(tweetId) {\n      try {\n        this.isProcessing = true;\n        this.prcessingTweetId = tweetId;\n        await this.tryAddLike(tweetId);\n      } catch (e) {\n        console.log(e);\n        toast.fireError(\"無法加入喜歡\");\n      } finally {\n        this.isProcessing = false;\n        this.prcessingTweetId = 0;\n      }\n    },\n    async deleteLike(tweetId) {\n      try {\n        this.isProcessing = true;\n        this.prcessingTweetId = tweetId;\n        await this.tryDeleteLike(tweetId);\n      } catch (e) {\n        console.log(e);\n        toast.fireError(\"無法取消喜歡\");\n      } finally {\n        this.isProcessing = false;\n        this.prcessingTweetId = 0;\n      }\n    },\n    isProcessingButton(tweetId) {\n      if (tweetId === this.prcessingTweetId) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    async tryFetchUserTweets(userId) {\n      try {\n        const response = await usersAPI.getTweets({ userId });\n        if (response.statusText !== \"OK\") {\n          throw Error(response.data.message);\n        }\n        this.tweets = response.data.map((data) => {\n          const { User, ...tweet } = data;\n          return {\n            userAccount: User.account,\n            userAvatar: User.avatar,\n            userName: User.name,\n            ...tweet,\n          };\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async tryFetchUserLikeTweets(userId) {\n      try {\n        this.isLoading = true;\n        const response = await usersAPI.getlikeTweets({ userId });\n        if (response.statusText !== \"OK\") {\n          throw new Error(response.data.message);\n        }\n        this.tweets = response.data.map((tweet) => {\n          const { Tweet, ...data } = tweet;\n          const { User } = Tweet;\n          return {\n            id: data.TweetId,\n            createdAt: data.createdAt,\n            likedCount: Tweet.likedCount,\n            repliedCount: Tweet.repliedCount,\n            updatedAt: data.updatedAt,\n            userAccount: User.account,\n            userAvatar: User.avatar,\n            userName: User.name,\n            UserId: data.UserId,\n            description: Tweet.description,\n            isLiked: data.likedTweet,\n          };\n        });\n      } catch (e) {\n        console.loge;\n      }\n    },\n    async tryFetchIndex() {\n      try {\n        const response = await tweetsAPI.getAll();\n        if (response.statusText !== \"OK\") {\n          throw Error(response.data.message);\n        }\n        this.tweets = response.data.map((data) => {\n          const { User, ...tweet } = data;\n\n          return {\n            userAccount: User.account,\n            userAvatar: User.avatar,\n            userName: User.name,\n            ...tweet,\n          };\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async tryAddLike(tweetId) {\n      try {\n        const response = await tweetsAPI.addLike({ tweetId });\n        if (response.statusText !== \"OK\") {\n          throw Error(response.data.message);\n        }\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.id === tweetId) {\n            return {\n              ...tweet,\n              isLiked: true,\n              likedCount: tweet.likedCount + 1,\n            };\n          } else {\n            return tweet;\n          }\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async tryDeleteLike(tweetId) {\n      try {\n        const response = await tweetsAPI.deleteLike({ tweetId });\n\n        if (response.statusText !== \"OK\") {\n          throw Error(response.data.message);\n        }\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.id === tweetId) {\n            return {\n              ...tweet,\n              isLiked: false,\n              likedCount: tweet.likedCount - 1,\n            };\n          } else {\n            return tweet;\n          }\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n  },\n  filters: {\n    emptyFilter(val) {\n      if (!val) {\n        return 0;\n      } else {\n        return val;\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/tweetListStyle.scss\";\na {\n  color: var(--primary-text-color);\n}\n\n.tweet-relative {\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  column-gap: 50px;\n  .message {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    cursor: pointer;\n  }\n  span {\n    font-size: 13px;\n    color: var(--mute-color);\n    margin-left: 10px;\n  }\n\n  .like {\n    @extend .message;\n  }\n  .like-text {\n    color: var(--like-color);\n  }\n}\nbutton {\n  border-radius: 2px;\n  border: 1px solid transparent;\n  &:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n  }\n  &:active {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n}\n.activeButton {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.no-data-item {\n  height: 100px;\n  line-height: 85px;\n  color: var(--mute-color);\n\n  margin: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetList.vue?vue&type=template&id=f1c21870&scoped=true&\"\nimport script from \"./TweetList.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetList.vue?vue&type=style&index=0&id=f1c21870&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1c21870\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseSpinner.vue?vue&type=style&index=0&id=f131ec16&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"ball-box\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BaseSpinner.vue?vue&type=template&id=f131ec16&scoped=true&\"\nvar script = {}\nimport style0 from \"./BaseSpinner.vue?vue&type=style&index=0&id=f131ec16&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f131ec16\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetList.vue?vue&type=style&index=0&id=f1c21870&lang=scss&scoped=true&\""],"sourceRoot":""}