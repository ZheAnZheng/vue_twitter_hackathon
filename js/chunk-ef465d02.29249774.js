(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef465d02"],{"0cd4":function(e,t,r){"use strict";r("3eb2")},"0d3b":function(e,t,r){var s=r("d039"),n=r("b622"),a=r("c430"),i=n("iterator");e.exports=!s((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,s){t["delete"]("b"),r+=s+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},2797:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"reply-modal"},[r("div",{staticClass:"close",on:{click:e.closeModal}},[r("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9.41412 7.99988L15.2071 2.20687C15.5971 1.81687 15.5971 1.18388 15.2071 0.792875C14.8171 0.401875 14.1841 0.402875 13.7931 0.792875L8.00012 6.58588L2.20712 0.792875C1.81712 0.402875 1.18412 0.402875 0.793119 0.792875C0.402119 1.18288 0.403119 1.81587 0.793119 2.20687L6.58612 7.99988L0.793119 13.7929C0.403119 14.1829 0.403119 14.8159 0.793119 15.2069C0.988119 15.4019 1.24312 15.4999 1.50012 15.4999C1.75712 15.4999 2.01212 15.4019 2.20712 15.2069L8.00012 9.41387L13.7931 15.2069C13.9881 15.4019 14.2431 15.4999 14.5001 15.4999C14.7571 15.4999 15.0121 15.4019 15.2071 15.2069C15.5971 14.8169 15.5971 14.1839 15.2071 13.7929L9.41412 7.99988Z",fill:"#FF6600"}})])]),r("div",{staticClass:"tweet-block"},[r("img",{staticClass:"avatar",attrs:{src:e._f("imageFilter")(e.tweet.userAvatar)}}),r("div",{staticClass:"tweet-info"},[r("div",{staticClass:"tweet-owner"},[r("div",[e._v(e._s(e.tweet.userName))]),r("div",[e._v("@"+e._s(e.tweet.userAccount))]),r("div",[e._v("．")]),r("div",[e._v(e._s(e._f("fromNow")(e.tweet.createdAt)))])]),r("div",{staticClass:"tweet-content"},[e._v(" "+e._s(e.tweet.description)+" ")]),r("div",{staticClass:"reply"},[e._v(" 回覆給"),r("span",[e._v("@"+e._s(e.tweet.userAccount))])])])]),r("span",{staticClass:"connect-line"}),r("div",{staticClass:"reply-block"},[r("img",{staticClass:"avatar",attrs:{src:e._f("imageFilter")(e.currentUser.avatar)}}),r("div",{staticClass:"reply-content"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reply,expression:"reply"}],staticClass:"reply-input",attrs:{id:"reply",rows:"5",cols:"40",placeholder:"推你的回覆"},domProps:{value:e.reply},on:{input:function(t){t.target.composing||(e.reply=t.target.value)}}})])]),r("div",{staticClass:"button-group"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.isReplyValid&&e.isChecked,expression:"!isReplyValid && isChecked"}]},[e._v("回覆不可空白")]),r("base-button",{staticClass:"reply-button",attrs:{mode:"action",position:"right",isDisabled:e.isProcessing},on:{handleClick:function(t){return e.submitReply(e.tweet.id)}}},[e._v("回覆")])],1)])])},n=[],a=r("5530"),i=r("1da1"),o=(r("d9e2"),r("498a"),r("96cf"),r("a64c")),l=r("2708"),c=r("c968"),u=r("2f62"),h=r("6783"),f={mixins:[l["c"],l["d"]],components:{BaseButton:o["a"]},data:function(){return{reply:"",isProcessing:!1,isChecked:!1}},props:{tweet:{type:Object,required:!0}},inject:{reload:{from:"reload"},reFetchProfileUser:{from:"reFetchProfileUser",default:function(){return function(){}}}},methods:{submitReply:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.isProcessing=!0,t.isReplyValid){r.next=5;break}return t.isChecked=!0,r.abrupt("return");case 5:return r.next=7,t.trySubmitReply(e);case 7:t.$emit("closeModal"),t.reload(),t.reFetchProfileUser(),c["b"].fireSuccess("回覆成功"),r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0),c["b"].fireError("無法發送回覆");case 17:return r.prev=17,t.isProcessing=!1,r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[0,13,17,20]])})))()},closeModal:function(){this.isChecked=!1,this.reply="",this.$emit("closeModal")},trySubmitReply:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h["a"].createReply({tweetId:e,comment:t.reply});case 3:if(s=r.sent,"OK"===s.statusText){r.next=6;break}throw Error(s.data.message);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},computed:Object(a["a"])(Object(a["a"])({},Object(u["c"])(["currentUser"])),{},{isReplyValid:function(){return""!==this.reply.trim()}})},d=f,p=(r("4f26"),r("2877")),v=Object(p["a"])(d,s,n,!1,null,"a2245fea",null);t["a"]=v.exports},"2b3d":function(e,t,r){"use strict";r("3ca3");var s,n=r("23e7"),a=r("83ab"),i=r("0d3b"),o=r("da84"),l=r("0366"),c=r("e330"),u=r("37e8").f,h=r("6eeb"),f=r("19aa"),d=r("1a2d"),p=r("60da"),v=r("4df4"),m=r("4dae"),g=r("6547").codeAt,w=r("5fb2"),C=r("577e"),b=r("d44e"),y=r("d6d6"),U=r("9861"),L=r("69f3"),k=L.set,x=L.getterFor("URL"),P=U.URLSearchParams,R=U.getState,H=o.URL,_=o.TypeError,S=o.parseInt,O=Math.floor,M=Math.pow,F=c("".charAt),I=c(/./.exec),j=c([].join),B=c(1..toString),V=c([].pop),q=c([].push),A=c("".replace),E=c([].shift),T=c("".split),Z=c("".slice),N=c("".toLowerCase),D=c([].unshift),$="Invalid authority",z="Invalid scheme",J="Invalid host",Q="Invalid port",K=/[a-z]/i,W=/[\d+-.a-z]/i,G=/\d/,X=/^0x/i,Y=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,re=/[\0\t\n\r #%/:<>?@[\\\]^|]/,se=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ae=/[\t\n\r]/g,ie=function(e){var t,r,s,n,a,i,o,l=T(e,".");if(l.length&&""==l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(r=[],s=0;s<t;s++){if(n=l[s],""==n)return e;if(a=10,n.length>1&&"0"==F(n,0)&&(a=I(X,n)?16:8,n=Z(n,8==a?1:2)),""===n)i=0;else{if(!I(10==a?ee:8==a?Y:te,n))return e;i=S(n,a)}q(r,i)}for(s=0;s<t;s++)if(i=r[s],s==t-1){if(i>=M(256,5-t))return null}else if(i>255)return null;for(o=V(r),s=0;s<r.length;s++)o+=r[s]*M(256,3-s);return o},oe=function(e){var t,r,s,n,a,i,o,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,f=function(){return F(e,h)};if(":"==f()){if(":"!=F(e,1))return;h+=2,c++,u=c}while(f()){if(8==c)return;if(":"!=f()){t=r=0;while(r<4&&I(te,f()))t=16*t+S(f(),16),h++,r++;if("."==f()){if(0==r)return;if(h-=r,c>6)return;s=0;while(f()){if(n=null,s>0){if(!("."==f()&&s<4))return;h++}if(!I(G,f()))return;while(I(G,f())){if(a=S(f(),10),null===n)n=a;else{if(0==n)return;n=10*n+a}if(n>255)return;h++}l[c]=256*l[c]+n,s++,2!=s&&4!=s||c++}if(4!=s)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;l[c++]=t}else{if(null!==u)return;h++,c++,u=c}}if(null!==u){i=c-u,c=7;while(0!=c&&i>0)o=l[c],l[c--]=l[u+i-1],l[u+--i]=o}else if(8!=c)return;return l},le=function(e){for(var t=null,r=1,s=null,n=0,a=0;a<8;a++)0!==e[a]?(n>r&&(t=s,r=n),s=null,n=0):(null===s&&(s=a),++n);return n>r&&(t=s,r=n),t},ce=function(e){var t,r,s,n;if("number"==typeof e){for(t=[],r=0;r<4;r++)D(t,e%256),e=O(e/256);return j(t,".")}if("object"==typeof e){for(t="",s=le(e),r=0;r<8;r++)n&&0===e[r]||(n&&(n=!1),s===r?(t+=r?":":"::",n=!0):(t+=B(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ue={},he=p({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=p({},he,{"#":1,"?":1,"{":1,"}":1}),de=p({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var r=g(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e,t){var r;return 2==e.length&&I(K,F(e,0))&&(":"==(r=F(e,1))||!t&&"|"==r)},ge=function(e){var t;return e.length>1&&me(Z(e,0,2))&&(2==e.length||"/"===(t=F(e,2))||"\\"===t||"?"===t||"#"===t)},we=function(e){return"."===e||"%2e"===N(e)},Ce=function(e){return e=N(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},be={},ye={},Ue={},Le={},ke={},xe={},Pe={},Re={},He={},_e={},Se={},Oe={},Me={},Fe={},Ie={},je={},Be={},Ve={},qe={},Ae={},Ee={},Te=function(e,t,r){var s,n,a,i=C(e);if(t){if(n=this.parse(i),n)throw _(n);this.searchParams=null}else{if(void 0!==r&&(s=new Te(r,!0)),n=this.parse(i,null,s),n)throw _(n);a=R(new P),a.bindURL(this),this.searchParams=a}};Te.prototype={type:"URL",parse:function(e,t,r){var n,a,i,o,l=this,c=t||be,u=0,h="",f=!1,p=!1,g=!1;e=C(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=A(e,ne,"")),e=A(e,ae,""),n=v(e);while(u<=n.length){switch(a=n[u],c){case be:if(!a||!I(K,a)){if(t)return z;c=Ue;continue}h+=N(a),c=ye;break;case ye:if(a&&(I(W,a)||"+"==a||"-"==a||"."==a))h+=N(a);else{if(":"!=a){if(t)return z;h="",c=Ue,u=0;continue}if(t&&(l.isSpecial()!=d(ve,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&ve[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?c=Fe:l.isSpecial()&&r&&r.scheme==l.scheme?c=Le:l.isSpecial()?c=Re:"/"==n[u+1]?(c=ke,u++):(l.cannotBeABaseURL=!0,q(l.path,""),c=qe)}break;case Ue:if(!r||r.cannotBeABaseURL&&"#"!=a)return z;if(r.cannotBeABaseURL&&"#"==a){l.scheme=r.scheme,l.path=m(r.path),l.query=r.query,l.fragment="",l.cannotBeABaseURL=!0,c=Ee;break}c="file"==r.scheme?Fe:xe;continue;case Le:if("/"!=a||"/"!=n[u+1]){c=xe;continue}c=He,u++;break;case ke:if("/"==a){c=_e;break}c=Ve;continue;case xe:if(l.scheme=r.scheme,a==s)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query=r.query;else if("/"==a||"\\"==a&&l.isSpecial())c=Pe;else if("?"==a)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query="",c=Ae;else{if("#"!=a){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.path.length--,c=Ve;continue}l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query=r.query,l.fragment="",c=Ee}break;case Pe:if(!l.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,c=Ve;continue}c=_e}else c=He;break;case Re:if(c=He,"/"!=a||"/"!=F(h,u+1))continue;u++;break;case He:if("/"!=a&&"\\"!=a){c=_e;continue}break;case _e:if("@"==a){f&&(h="%40"+h),f=!0,i=v(h);for(var w=0;w<i.length;w++){var b=i[w];if(":"!=b||g){var y=pe(b,de);g?l.password+=y:l.username+=y}else g=!0}h=""}else if(a==s||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(f&&""==h)return $;u-=v(h).length+1,h="",c=Se}else h+=a;break;case Se:case Oe:if(t&&"file"==l.scheme){c=je;continue}if(":"!=a||p){if(a==s||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==h)return J;if(t&&""==h&&(l.includesCredentials()||null!==l.port))return;if(o=l.parseHost(h),o)return o;if(h="",c=Be,t)return;continue}"["==a?p=!0:"]"==a&&(p=!1),h+=a}else{if(""==h)return J;if(o=l.parseHost(h),o)return o;if(h="",c=Me,t==Oe)return}break;case Me:if(!I(G,a)){if(a==s||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()||t){if(""!=h){var U=S(h,10);if(U>65535)return Q;l.port=l.isSpecial()&&U===ve[l.scheme]?null:U,h=""}if(t)return;c=Be;continue}return Q}h+=a;break;case Fe:if(l.scheme="file","/"==a||"\\"==a)c=Ie;else{if(!r||"file"!=r.scheme){c=Ve;continue}if(a==s)l.host=r.host,l.path=m(r.path),l.query=r.query;else if("?"==a)l.host=r.host,l.path=m(r.path),l.query="",c=Ae;else{if("#"!=a){ge(j(m(n,u),""))||(l.host=r.host,l.path=m(r.path),l.shortenPath()),c=Ve;continue}l.host=r.host,l.path=m(r.path),l.query=r.query,l.fragment="",c=Ee}}break;case Ie:if("/"==a||"\\"==a){c=je;break}r&&"file"==r.scheme&&!ge(j(m(n,u),""))&&(me(r.path[0],!0)?q(l.path,r.path[0]):l.host=r.host),c=Ve;continue;case je:if(a==s||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&me(h))c=Ve;else if(""==h){if(l.host="",t)return;c=Be}else{if(o=l.parseHost(h),o)return o;if("localhost"==l.host&&(l.host=""),t)return;h="",c=Be}continue}h+=a;break;case Be:if(l.isSpecial()){if(c=Ve,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=s&&(c=Ve,"/"!=a))continue}else l.fragment="",c=Ee;else l.query="",c=Ae;break;case Ve:if(a==s||"/"==a||"\\"==a&&l.isSpecial()||!t&&("?"==a||"#"==a)){if(Ce(h)?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||q(l.path,"")):we(h)?"/"==a||"\\"==a&&l.isSpecial()||q(l.path,""):("file"==l.scheme&&!l.path.length&&me(h)&&(l.host&&(l.host=""),h=F(h,0)+":"),q(l.path,h)),h="","file"==l.scheme&&(a==s||"?"==a||"#"==a))while(l.path.length>1&&""===l.path[0])E(l.path);"?"==a?(l.query="",c=Ae):"#"==a&&(l.fragment="",c=Ee)}else h+=pe(a,fe);break;case qe:"?"==a?(l.query="",c=Ae):"#"==a?(l.fragment="",c=Ee):a!=s&&(l.path[0]+=pe(a,ue));break;case Ae:t||"#"!=a?a!=s&&("'"==a&&l.isSpecial()?l.query+="%27":l.query+="#"==a?"%23":pe(a,ue)):(l.fragment="",c=Ee);break;case Ee:a!=s&&(l.fragment+=pe(a,he));break}u++}},parseHost:function(e){var t,r,s;if("["==F(e,0)){if("]"!=F(e,e.length-1))return J;if(t=oe(Z(e,1,-1)),!t)return J;this.host=t}else if(this.isSpecial()){if(e=w(e),I(re,e))return J;if(t=ie(e),null===t)return J;this.host=t}else{if(I(se,e))return J;for(t="",r=v(e),s=0;s<r.length;s++)t+=pe(r[s],ue);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return d(ve,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&me(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,s=e.password,n=e.host,a=e.port,i=e.path,o=e.query,l=e.fragment,c=t+":";return null!==n?(c+="//",e.includesCredentials()&&(c+=r+(s?":"+s:"")+"@"),c+=ce(n),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+j(i,"/"):"",null!==o&&(c+="?"+o),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw _(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ze(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ce(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(C(e)+":",be)},getUsername:function(){return this.username},setUsername:function(e){var t=v(C(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=pe(t[r],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(C(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=pe(t[r],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ce(e):ce(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":ce(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getPort:function(){var e=this.port;return null===e?"":C(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=C(e),""==e?this.port=null:this.parse(e,Me))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+j(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Be))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=C(e),""==e?this.query=null:("?"==F(e,0)&&(e=Z(e,1)),this.query="",this.parse(e,Ae)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=C(e),""!=e?("#"==F(e,0)&&(e=Z(e,1)),this.fragment="",this.parse(e,Ee)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ze=function(e){var t=f(this,Ne),r=y(arguments.length,1)>1?arguments[1]:void 0,s=k(t,new Te(e,!1,r));a||(t.href=s.serialize(),t.origin=s.getOrigin(),t.protocol=s.getProtocol(),t.username=s.getUsername(),t.password=s.getPassword(),t.host=s.getHost(),t.hostname=s.getHostname(),t.port=s.getPort(),t.pathname=s.getPathname(),t.search=s.getSearch(),t.searchParams=s.getSearchParams(),t.hash=s.getHash())},Ne=Ze.prototype,De=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&u(Ne,{href:De("serialize","setHref"),origin:De("getOrigin"),protocol:De("getProtocol","setProtocol"),username:De("getUsername","setUsername"),password:De("getPassword","setPassword"),host:De("getHost","setHost"),hostname:De("getHostname","setHostname"),port:De("getPort","setPort"),pathname:De("getPathname","setPathname"),search:De("getSearch","setSearch"),searchParams:De("getSearchParams"),hash:De("getHash","setHash")}),h(Ne,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),h(Ne,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),H){var $e=H.createObjectURL,ze=H.revokeObjectURL;$e&&h(Ze,"createObjectURL",l($e,H)),ze&&h(Ze,"revokeObjectURL",l(ze,H))}b(Ze,"URL"),n({global:!0,forced:!i,sham:!a},{URL:Ze})},"3eb2":function(e,t,r){},"4df4":function(e,t,r){"use strict";var s=r("da84"),n=r("0366"),a=r("c65b"),i=r("7b0b"),o=r("9bdd"),l=r("e95a"),c=r("68ee"),u=r("07fa"),h=r("8418"),f=r("9a1f"),d=r("35a1"),p=s.Array;e.exports=function(e){var t=i(e),r=c(this),s=arguments.length,v=s>1?arguments[1]:void 0,m=void 0!==v;m&&(v=n(v,s>2?arguments[2]:void 0));var g,w,C,b,y,U,L=d(t),k=0;if(!L||this==p&&l(L))for(g=u(t),w=r?new this(g):p(g);g>k;k++)U=m?v(t[k],k):t[k],h(w,k,U);else for(b=f(t,L),y=b.next,w=r?new this:[];!(C=a(y,b)).done;k++)U=m?o(b,v,[C.value,k],!0):C.value,h(w,k,U);return w.length=k,w}},"4f26":function(e,t,r){"use strict";r("8aa3")},"5fb2":function(e,t,r){"use strict";var s=r("da84"),n=r("e330"),a=2147483647,i=36,o=1,l=26,c=38,u=700,h=72,f=128,d="-",p=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=i-o,w=s.RangeError,C=n(v.exec),b=Math.floor,y=String.fromCharCode,U=n("".charCodeAt),L=n([].join),k=n([].push),x=n("".replace),P=n("".split),R=n("".toLowerCase),H=function(e){var t=[],r=0,s=e.length;while(r<s){var n=U(e,r++);if(n>=55296&&n<=56319&&r<s){var a=U(e,r++);56320==(64512&a)?k(t,((1023&n)<<10)+(1023&a)+65536):(k(t,n),r--)}else k(t,n)}return t},_=function(e){return e+22+75*(e<26)},S=function(e,t,r){var s=0;e=r?b(e/u):e>>1,e+=b(e/t);while(e>g*l>>1)e=b(e/g),s+=i;return b(s+(g+1)*e/(e+c))},O=function(e){var t=[];e=H(e);var r,s,n=e.length,c=f,u=0,p=h;for(r=0;r<e.length;r++)s=e[r],s<128&&k(t,y(s));var v=t.length,g=v;v&&k(t,d);while(g<n){var C=a;for(r=0;r<e.length;r++)s=e[r],s>=c&&s<C&&(C=s);var U=g+1;if(C-c>b((a-u)/U))throw w(m);for(u+=(C-c)*U,c=C,r=0;r<e.length;r++){if(s=e[r],s<c&&++u>a)throw w(m);if(s==c){var x=u,P=i;while(1){var R=P<=p?o:P>=p+l?l:P-p;if(x<R)break;var O=x-R,M=i-R;k(t,y(_(R+O%M))),x=b(O/M),P+=i}k(t,y(_(x))),p=S(u,U,g==v),u=0,g++}}u++,c++}return L(t,"")};e.exports=function(e){var t,r,s=[],n=P(x(R(e),v,"."),".");for(t=0;t<n.length;t++)r=n[t],k(s,C(p,r)?"xn--"+O(r):r);return L(s,".")}},"63b1":function(e,t,r){"use strict";r("ac5a")},"8aa3":function(e,t,r){},9861:function(e,t,r){"use strict";r("e260");var s=r("23e7"),n=r("da84"),a=r("d066"),i=r("c65b"),o=r("e330"),l=r("0d3b"),c=r("6eeb"),u=r("e2cc"),h=r("d44e"),f=r("9ed3"),d=r("69f3"),p=r("19aa"),v=r("1626"),m=r("1a2d"),g=r("0366"),w=r("f5df"),C=r("825a"),b=r("861d"),y=r("577e"),U=r("7c73"),L=r("5c6c"),k=r("9a1f"),x=r("35a1"),P=r("d6d6"),R=r("b622"),H=r("addb"),_=R("iterator"),S="URLSearchParams",O=S+"Iterator",M=d.set,F=d.getterFor(S),I=d.getterFor(O),j=a("fetch"),B=a("Request"),V=a("Headers"),q=B&&B.prototype,A=V&&V.prototype,E=n.RegExp,T=n.TypeError,Z=n.decodeURIComponent,N=n.encodeURIComponent,D=o("".charAt),$=o([].join),z=o([].push),J=o("".replace),Q=o([].shift),K=o([].splice),W=o("".split),G=o("".slice),X=/\+/g,Y=Array(4),ee=function(e){return Y[e-1]||(Y[e-1]=E("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return Z(e)}catch(t){return e}},re=function(e){var t=J(e,X," "),r=4;try{return Z(t)}catch(s){while(r)t=J(t,ee(r--),te);return t}},se=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return ne[e]},ie=function(e){return J(N(e),se,ae)},oe=f((function(e,t){M(this,{type:O,iterator:k(F(e).entries),kind:t})}),"Iterator",(function(){var e=I(this),t=e.kind,r=e.iterator.next(),s=r.value;return r.done||(r.value="keys"===t?s.key:"values"===t?s.value:[s.key,s.value]),r}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===D(e,0)?G(e,1):e:y(e)))};le.prototype={type:S,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,s,n,a,o,l,c=x(e);if(c){t=k(e,c),r=t.next;while(!(s=i(r,t)).done){if(n=k(C(s.value)),a=n.next,(o=i(a,n)).done||(l=i(a,n)).done||!i(a,n).done)throw T("Expected sequence with length 2");z(this.entries,{key:y(o.value),value:y(l.value)})}}else for(var u in e)m(e,u)&&z(this.entries,{key:u,value:y(e[u])})},parseQuery:function(e){if(e){var t,r,s=W(e,"&"),n=0;while(n<s.length)t=s[n++],t.length&&(r=W(t,"="),z(this.entries,{key:re(Q(r)),value:re($(r,"="))}))}},serialize:function(){var e,t=this.entries,r=[],s=0;while(s<t.length)e=t[s++],z(r,ie(e.key)+"="+ie(e.value));return $(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){p(this,ue);var e=arguments.length>0?arguments[0]:void 0;M(this,new le(e))},ue=ce.prototype;if(u(ue,{append:function(e,t){P(arguments.length,2);var r=F(this);z(r.entries,{key:y(e),value:y(t)}),r.updateURL()},delete:function(e){P(arguments.length,1);var t=F(this),r=t.entries,s=y(e),n=0;while(n<r.length)r[n].key===s?K(r,n,1):n++;t.updateURL()},get:function(e){P(arguments.length,1);for(var t=F(this).entries,r=y(e),s=0;s<t.length;s++)if(t[s].key===r)return t[s].value;return null},getAll:function(e){P(arguments.length,1);for(var t=F(this).entries,r=y(e),s=[],n=0;n<t.length;n++)t[n].key===r&&z(s,t[n].value);return s},has:function(e){P(arguments.length,1);var t=F(this).entries,r=y(e),s=0;while(s<t.length)if(t[s++].key===r)return!0;return!1},set:function(e,t){P(arguments.length,1);for(var r,s=F(this),n=s.entries,a=!1,i=y(e),o=y(t),l=0;l<n.length;l++)r=n[l],r.key===i&&(a?K(n,l--,1):(a=!0,r.value=o));a||z(n,{key:i,value:o}),s.updateURL()},sort:function(){var e=F(this);H(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,r=F(this).entries,s=g(e,arguments.length>1?arguments[1]:void 0),n=0;while(n<r.length)t=r[n++],s(t.value,t.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),c(ue,_,ue.entries,{name:"entries"}),c(ue,"toString",(function(){return F(this).serialize()}),{enumerable:!0}),h(ce,S),s({global:!0,forced:!l},{URLSearchParams:ce}),!l&&v(V)){var he=o(A.has),fe=o(A.set),de=function(e){if(b(e)){var t,r=e.body;if(w(r)===S)return t=e.headers?new V(e.headers):new V,he(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),U(e,{body:L(0,y(r)),headers:L(0,t)})}return e};if(v(j)&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return j(e,arguments.length>1?de(arguments[1]):{})}}),v(B)){var pe=function(e){return p(this,q),new B(e,arguments.length>1?de(arguments[1]):{})};q.constructor=pe,pe.prototype=q,s({global:!0,forced:!0},{Request:pe})}}e.exports={URLSearchParams:ce,getState:F}},"9bdd":function(e,t,r){var s=r("825a"),n=r("2a62");e.exports=function(e,t,r,a){try{return a?t(s(r)[0],r[1]):t(r)}catch(i){n(e,"throw",i)}}},"9f73":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("transition",{attrs:{name:"fade"}},[r("ProfileEditModal",{directives:[{name:"show",rawName:"v-show",value:e.modalSwitch,expression:"modalSwitch"}],key:"profile",attrs:{user:e.currentUser},on:{handleCloseModal:function(t){return e.closeModal("profileEdit")}}})],1),r("transition",{attrs:{name:"fade"}},[r("ReplyModal",{directives:[{name:"show",rawName:"v-show",value:e.replyModalSwitch,expression:"replyModalSwitch"}],key:"reply",attrs:{tweet:e.modalTweets},on:{closeModal:function(t){return e.closeModal("reply")}}})],1),r("img",{staticClass:"cover-image",attrs:{src:e._f("coverFilter")(e.user.cover)}}),r("div",{staticClass:"user-info"},[r("img",{staticClass:"avatar",attrs:{src:e._f("imageFilter")(e.user.avatar)}}),e.currentUser.id===e.user.id?r("div",{staticClass:"button-wrapper"},[r("base-button",{staticClass:"profile-button",attrs:{mode:"actionOutline",position:"right"},on:{handleClick:function(t){return e.openModal("profileEdit")}}},[e._v("編輯個人資料")])],1):r("div",{staticClass:"button-wrapper"},[e.user.isFollowed?r("base-button",{staticClass:"profile-button",attrs:{mode:"action",position:"right",isDisabled:e.isProcessing},on:{handleClick:function(t){return e.deleteFollowing(e.user.id,"profile")}}},[e._v("正在跟隨")]):r("base-button",{staticClass:"profile-button",attrs:{mode:"actionOutline",position:"right",isDisabled:e.isProcessing},on:{handleClick:function(t){return e.addFollowing(e.user.id,"profile")}}},[e._v("跟隨")]),r("base-button",{staticClass:"icon-button",attrs:{mode:"actionOutline",position:"right"}},[r("svg",{attrs:{width:"21",height:"21",viewBox:"0 -1 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M20.3351 2.85253H18.2132V0.728027C18.2132 0.365777 17.9192 0.0717773 17.557 0.0717773C17.1947 0.0717773 16.9007 0.365777 16.9007 0.728027V2.85253H14.7788C14.4166 2.85253 14.1226 3.14565 14.1226 3.50878C14.1226 3.8719 14.4166 4.16503 14.7788 4.16503H16.9016V6.28603C16.9016 6.64828 17.1956 6.94228 17.5578 6.94228C17.9201 6.94228 18.2141 6.64828 18.2141 6.28603V4.16503H20.336C20.6991 4.16503 20.9922 3.87015 20.9922 3.50878C20.9922 3.1474 20.6982 2.85253 20.336 2.85253H20.3351ZM14.8838 9.50778C14.9013 7.37803 14.1996 5.4854 12.9081 4.17903C11.7496 3.00478 10.1816 2.35553 8.49284 2.34765H8.48147C6.79272 2.3564 5.22472 3.0039 4.06622 4.17815C2.77559 5.48628 2.07384 7.3789 2.09134 9.50865C2.12284 13.125 0.408717 14.49 0.341342 14.5425C0.113842 14.7114 0.0202174 15.0063 0.108592 15.2758C0.197842 15.5453 0.449842 15.7264 0.731592 15.7264H4.85809C4.95434 17.6742 6.55559 19.2325 8.52784 19.2325C10.5001 19.2325 12.1005 17.675 12.1976 15.7264H16.2445C16.5245 15.7264 16.773 15.5462 16.8631 15.2802C16.9532 15.0142 16.8631 14.7175 16.64 14.5469C16.5682 14.4909 14.8523 13.125 14.883 9.5069L14.8838 9.50778ZM8.52697 17.92C7.27922 17.92 6.26422 16.9488 6.16972 15.7255H10.8842C10.7897 16.9505 9.77472 17.9192 8.52697 17.9192V17.92ZM2.14822 14.4139C2.76247 13.4558 3.42309 11.8729 3.40297 9.49815C3.38809 7.6939 3.94022 6.17315 4.99984 5.10128C5.91247 4.17728 7.15059 3.66628 8.48759 3.66103C9.82372 3.66715 11.0627 4.17728 11.9745 5.10128C13.0332 6.17403 13.5845 7.6939 13.5696 9.49815C13.5503 11.8729 14.2101 13.4558 14.827 14.4139H2.14822V14.4139Z",fill:"#FF6600"}})])]),r("base-button",{staticClass:"icon-button",attrs:{mode:"actionOutline",position:"right"}},[r("svg",{attrs:{width:"21",height:"21",viewBox:"0 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M16.8438 2.64062H4.15625C2.82888 2.64062 1.75 3.72038 1.75 5.04862V15.9817C1.75 17.31 2.82888 18.3906 4.15625 18.3906H16.8438C18.1711 18.3906 19.25 17.31 19.25 15.9817V5.04862C19.25 3.72038 18.1711 2.64062 16.8438 2.64062ZM4.15625 3.95313H16.8438C17.4475 3.95313 17.9375 4.44313 17.9375 5.04688V5.67162L10.8938 10.3678C10.6549 10.5253 10.346 10.527 10.1062 10.366L3.0625 5.67162V5.04688C3.0625 4.44313 3.5525 3.95313 4.15625 3.95313ZM16.8438 17.0764H4.15625C3.5525 17.0764 3.0625 16.5864 3.0625 15.9826V7.20988L9.3975 11.4361C9.73263 11.6601 10.1167 11.7721 10.5 11.7721C10.885 11.7721 11.2674 11.6601 11.6025 11.437L17.9375 7.21075V15.98C17.9375 16.5838 17.4475 17.0738 16.8438 17.0738V17.0764Z",fill:"#FF6600"}})])])],1),r("div",{staticClass:"profile-name"},[e._v(e._s(e.user.name))]),r("div",{staticClass:"profile-account"},[e._v("@"+e._s(e.user.account))]),r("div",{staticClass:"profile-description"},[e._v(" "+e._s(e.user.introduction)+" ")]),r("div",{staticClass:"profile-follow"},[r("div",{staticClass:"follow"},[e._v(" "+e._s(e.user.followingCount)+"個"),r("router-link",{attrs:{to:{name:"following",params:{id:""+e.user.id}}}},[e._v("追隨中")])],1),r("div",{staticClass:"follow"},[e._v(" "+e._s(e.user.followerCount)+"位"),r("router-link",{attrs:{to:{name:"followed",params:{id:""+e.user.id}}}},[e._v("跟隨者")])],1)])]),r("profile-tabs",[r("router-view",{on:{openReplyModal:e.handleOpenModal}})],1)],1)},n=[],a=r("5530"),i=r("a64c"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("ul",{staticClass:"tab-head"},[r("li",{staticClass:"tab-item"},[r("router-link",{class:e.getClass("userTweets"),attrs:{to:{name:"userTweets"}}},[e._v("推文")])],1),r("li",{staticClass:"tab-item"},[r("router-link",{class:e.getClass("replyTweets"),attrs:{to:{name:"replyTweets"}}},[e._v("推文與回覆")])],1),r("li",{staticClass:"tab-item"},[r("router-link",{class:e.getClass("likeTweets"),attrs:{to:{name:"likeTweets"}}},[e._v("喜歡的內容")])],1)]),r("div",{staticClass:"slot"},[e._t("default")],2)])},l=[],c=r("2708"),u={mixins:[c["b"]]},h=u,f=(r("63b1"),r("2877")),d=Object(f["a"])(h,o,l,!1,null,"7e02de34",null),p=d.exports,v=r("2797"),m=r("2f62"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{key:"edit-modal",staticClass:"edit-modal"},[r("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.uploadEdit.apply(null,arguments)}}},[r("div",{staticClass:"modal-head"},[r("div",{staticClass:"close",on:{click:e.cancelChangeAndCloseModal}},[r("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9.41412 7.99988L15.2071 2.20687C15.5971 1.81687 15.5971 1.18388 15.2071 0.792875C14.8171 0.401875 14.1841 0.402875 13.7931 0.792875L8.00012 6.58588L2.20712 0.792875C1.81712 0.402875 1.18412 0.402875 0.793119 0.792875C0.402119 1.18288 0.403119 1.81587 0.793119 2.20687L6.58612 7.99988L0.793119 13.7929C0.403119 14.1829 0.403119 14.8159 0.793119 15.2069C0.988119 15.4019 1.24312 15.4999 1.50012 15.4999C1.75712 15.4999 2.01212 15.4019 2.20712 15.2069L8.00012 9.41387L13.7931 15.2069C13.9881 15.4019 14.2431 15.4999 14.5001 15.4999C14.7571 15.4999 15.0121 15.4019 15.2071 15.2069C15.5971 14.8169 15.5971 14.1839 15.2071 13.7929L9.41412 7.99988Z",fill:"#FF6600"}})])]),r("div",[e._v("編輯個人資料")]),r("base-button",{staticClass:"save-button",attrs:{mode:"action",isDisabled:e.isProcessing}},[e._v(" 儲存")])],1),r("div",{staticClass:"coverImage-group"},[r("img",{staticClass:"cover-image",attrs:{src:e._f("coverFilter")(e.editUser.cover)}}),r("label",{staticClass:"cover-label",attrs:{for:"cover"}},[r("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M17.708 20H2.292C1.028 20 0 18.972 0 17.708V5.375C0 4.11 1.028 3.083 2.292 3.083H4.438C5.633 1.17 7.722 0 10 0C12.277 0 14.367 1.17 15.562 3.083H17.708C18.972 3.083 20 4.11 20 5.375V17.708C20 18.972 18.972 20 17.708 20ZM2.292 4.583C1.855 4.583 1.5 4.938 1.5 5.375V17.708C1.5 18.145 1.855 18.5 2.292 18.5H17.708C18.145 18.5 18.5 18.145 18.5 17.708V5.375C18.5 4.938 18.145 4.583 17.708 4.583H15.258C14.941 4.633 14.626 4.488 14.476 4.201C13.596 2.536 11.882 1.501 10 1.501C8.117 1.501 6.402 2.536 5.524 4.203C5.364 4.505 5.022 4.663 4.691 4.583H2.293H2.292Z",fill:"white"}}),r("path",{attrs:{d:"M9.99989 6.16699C7.31989 6.16699 5.13989 8.34699 5.13989 11.027C5.13989 13.707 7.31989 15.887 9.99989 15.887C12.6799 15.887 14.8599 13.707 14.8599 11.027C14.8599 8.34699 12.6799 6.16699 9.99989 6.16699ZM11.9999 11.75H10.7499V13C10.7499 13.414 10.4139 13.75 9.99989 13.75C9.58589 13.75 9.24989 13.414 9.24989 13V11.75H7.99989C7.58589 11.75 7.24989 11.414 7.24989 11C7.24989 10.586 7.58589 10.25 7.99989 10.25H9.24989V8.99999C9.24989 8.58599 9.58589 8.24999 9.99989 8.24999C10.4139 8.24999 10.7499 8.58599 10.7499 8.99999V10.25H11.9999C12.4139 10.25 12.7499 10.586 12.7499 11C12.7499 11.414 12.4139 11.75 11.9999 11.75Z",fill:"white"}})])]),r("div",{staticClass:"deleteIcon",on:{click:e.deleteCoverImage}},[r("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M9.41412 7.99988L15.2071 2.20687C15.5971 1.81687 15.5971 1.18388 15.2071 0.792875C14.8171 0.401875 14.1841 0.402875 13.7931 0.792875L8.00012 6.58588L2.20712 0.792875C1.81712 0.402875 1.18412 0.402875 0.793119 0.792875C0.402119 1.18288 0.403119 1.81587 0.793119 2.20687L6.58612 7.99988L0.793119 13.7929C0.403119 14.1829 0.403119 14.8159 0.793119 15.2069C0.988119 15.4019 1.24312 15.4999 1.50012 15.4999C1.75712 15.4999 2.01212 15.4019 2.20712 15.2069L8.00012 9.41387L13.7931 15.2069C13.9881 15.4019 14.2431 15.4999 14.5001 15.4999C14.7571 15.4999 15.0121 15.4019 15.2071 15.2069C15.5971 14.8169 15.5971 14.1839 15.2071 13.7929L9.41412 7.99988Z",fill:"white"}})])]),r("input",{attrs:{id:"cover",type:"file",name:"cover",accept:"image/*"},on:{change:e.handleCoverImageChagne}})]),r("div",{staticClass:"form-wrapper"},[r("div",{staticClass:"avatar-group"},[r("label",{staticClass:"avatar-label",attrs:{for:"avatar"}},[r("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M17.708 20H2.292C1.028 20 0 18.972 0 17.708V5.375C0 4.11 1.028 3.083 2.292 3.083H4.438C5.633 1.17 7.722 0 10 0C12.277 0 14.367 1.17 15.562 3.083H17.708C18.972 3.083 20 4.11 20 5.375V17.708C20 18.972 18.972 20 17.708 20ZM2.292 4.583C1.855 4.583 1.5 4.938 1.5 5.375V17.708C1.5 18.145 1.855 18.5 2.292 18.5H17.708C18.145 18.5 18.5 18.145 18.5 17.708V5.375C18.5 4.938 18.145 4.583 17.708 4.583H15.258C14.941 4.633 14.626 4.488 14.476 4.201C13.596 2.536 11.882 1.501 10 1.501C8.117 1.501 6.402 2.536 5.524 4.203C5.364 4.505 5.022 4.663 4.691 4.583H2.293H2.292Z",fill:"white"}}),r("path",{attrs:{d:"M9.99989 6.16699C7.31989 6.16699 5.13989 8.34699 5.13989 11.027C5.13989 13.707 7.31989 15.887 9.99989 15.887C12.6799 15.887 14.8599 13.707 14.8599 11.027C14.8599 8.34699 12.6799 6.16699 9.99989 6.16699ZM11.9999 11.75H10.7499V13C10.7499 13.414 10.4139 13.75 9.99989 13.75C9.58589 13.75 9.24989 13.414 9.24989 13V11.75H7.99989C7.58589 11.75 7.24989 11.414 7.24989 11C7.24989 10.586 7.58589 10.25 7.99989 10.25H9.24989V8.99999C9.24989 8.58599 9.58589 8.24999 9.99989 8.24999C10.4139 8.24999 10.7499 8.58599 10.7499 8.99999V10.25H11.9999C12.4139 10.25 12.7499 10.586 12.7499 11C12.7499 11.414 12.4139 11.75 11.9999 11.75Z",fill:"white"}})])]),r("img",{staticClass:"avatar",attrs:{src:e._f("imageFilter")(e.editUser.avatar)}}),r("input",{attrs:{id:"avatar",type:"file",name:"avatar",accept:"image/*"},on:{change:e.handleAvatarChange}})]),r("div",{staticClass:"form-group",class:{invalid:e.isNameInvalid}},[r("label",{attrs:{for:"name"}},[e._v("名稱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.editUser.name,expression:"editUser.name"}],attrs:{id:"name",name:"name"},domProps:{value:e.editUser.name},on:{input:function(t){t.target.composing||e.$set(e.editUser,"name",t.target.value)}}}),r("div",{staticClass:"text-count"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.nameTextLength>50,expression:"nameTextLength > 50"}]},[e._v(" 字數過長 ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.nameTextLength<1,expression:"nameTextLength < 1"}]},[e._v(" 名字不可為空 ")]),e._v(" "+e._s(e.nameTextLength)+"/50 ")])]),r("div",{staticClass:"form-group",class:{invalid:e.isIntroInvalid}},[r("label",{attrs:{for:"description"}},[e._v("自我介紹")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editUser.introduction,expression:"editUser.introduction"}],attrs:{rows:"6",id:"introduction",name:"introduction",placeholder:"尚無自我介紹"},domProps:{value:e.editUser.introduction},on:{input:function(t){t.target.composing||e.$set(e.editUser,"introduction",t.target.value)}}}),e._v(" "),r("div",{staticClass:"text-count"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.isIntroInvalid,expression:"isIntroInvalid"}]},[e._v("自我介紹超過160")]),e._v(" "+e._s(e.introTextLength)+"/160 ")])])])])])])},w=[],C=r("1da1"),b=(r("96cf"),r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("d9e2"),r("4cce")),y=r("c968"),U={components:{BaseButton:i["a"]},mixins:[c["d"]],props:{user:{type:Object,required:!0}},data:function(){return{editUser:{},isProcessing:!1}},watch:{user:function(){this.copyUser()},editUser:{handler:function(e){return e},deep:!0}},computed:Object(a["a"])(Object(a["a"])({},Object(m["c"])(["currentUser"])),{},{nameTextLength:function(){return this.editUser.name.length},introTextLength:function(){return this.editUser.introduction.length},isNameInvalid:function(){return this.nameTextLength>50||this.nameTextLength<1},isIntroInvalid:function(){return this.introTextLength>160}}),created:function(){this.copyUser()},inject:["reFetchProfileUser"],methods:{handleCoverImageChagne:function(e){console.log(e);var t=e.target.files;t.length>0?this.editUser.cover=window.URL.createObjectURL(t[0]):this.editUser.cover=""},handleAvatarChange:function(e){var t=e.target.files;t.length>0&&(this.editUser.avatar=window.URL.createObjectURL(t[0]))},deleteCoverImage:function(){this.editUser.coverImage="https://via.placeholder.com/350x220/DFDFDF?text=No+Image"},copyUser:function(){this.editUser=Object.assign({},this.user)},uploadEdit:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!t.checkFormInvalid()){r.next=4;break}return y["b"].fireWarning("填寫錯誤，請更新後送出"),r.abrupt("return");case 4:return t.isProcessing=!0,r.next=7,t.tryUpLoad(e);case 7:t.saveEdit(e),t.isProcessing=!1,t.reFetchProfileUser(),y["b"].fireSuccess("修改成功"),r.next=18;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0),t.isProcessing=!1,y["b"].fireError("無法上傳修改");case 18:case"end":return r.stop()}}),r,null,[[0,13]])})))()},tryUpLoad:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function r(){var s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,s=new FormData(e.target),s.append("password",t.currentUser.password),s.append("account",t.currentUser.account),s.append("email",t.currentUser.email),r.next=7,b["a"].update({userId:t.currentUser.id,formData:s});case 7:if(n=r.sent,console.log(n),"OK"===n.statusText){r.next=11;break}throw new Error(n.data.message);case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()},saveEdit:function(){var e=this.editUser,t=e.avatar,r=e.cover,s=e.name,n=e.introduction;this.user.avatar=t,this.user.cover=r,this.user.name=s,this.user.introduction=n,this.$emit("handleCloseModal")},checkFormInvalid:function(){return this.isNameInvalid||this.isIntroInvalid},cancelChangeAndCloseModal:function(){this.copyUser(),this.$emit("handleCloseModal")}}},L=U,k=(r("c9f5"),Object(f["a"])(L,g,w,!1,null,"4f936e8e",null)),x=k.exports,P={mixins:[c["f"],c["e"],c["d"]],components:{BaseButton:i["a"],ProfileTabs:p,ProfileEditModal:x,ReplyModal:v["a"]},data:function(){return{user:{}}},inject:{profileUser:{from:"profileUser"},turnHeaderShow:{from:"turnHeaderShow"}},watch:{profileUser:{handler:function(){this.user=Object(a["a"])({},this.userData),this.turnHeaderShow()},deep:!0},user:{handler:function(e){this.$store.commit("follow/update",{userId:e.id,isFollowed:e.isFollowed})},deep:!0},followData:function(e){e.userId&&e.userId&&e.userId===this.user.id&&(this.user.isFollowed=e.isFollowed)}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(m["c"])(["currentUser"])),Object(m["c"])("follow",["followData"])),{},{userData:function(){return this.profileUser.data}})},R=P,H=(r("0cd4"),Object(f["a"])(R,s,n,!1,null,"d1698c86",null));t["default"]=H.exports},ac5a:function(e,t,r){},addb:function(e,t,r){var s=r("4dae"),n=Math.floor,a=function(e,t){var r=e.length,l=n(r/2);return r<8?i(e,t):o(e,a(s(e,0,l),t),a(s(e,l),t),t)},i=function(e,t){var r,s,n=e.length,a=1;while(a<n){s=a,r=e[a];while(s&&t(e[s-1],r)>0)e[s]=e[--s];s!==a++&&(e[s]=r)}return e},o=function(e,t,r,s){var n=t.length,a=r.length,i=0,o=0;while(i<n||o<a)e[i+o]=i<n&&o<a?s(t[i],r[o])<=0?t[i++]:r[o++]:i<n?t[i++]:r[o++];return e};e.exports=a},b5ce:function(e,t,r){},c9f5:function(e,t,r){"use strict";r("b5ce")}}]);
//# sourceMappingURL=chunk-ef465d02.29249774.js.map