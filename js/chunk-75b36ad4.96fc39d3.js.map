{"version":3,"sources":["webpack:///./src/components/ChatRoom.vue?942d","webpack:///src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?0929","webpack:///./src/components/ChatRoom.vue","webpack:///./src/components/ChatSidebar.vue?ad39","webpack:///./src/components/layouts/HackathonLayout.vue?e18b","webpack:///./src/components/ChatRoom.vue?935d","webpack:///./src/views/PublicRoom.vue?5217","webpack:///./src/components/ChatSidebar.vue?a9cb","webpack:///src/components/ChatSidebar.vue","webpack:///./src/components/ChatSidebar.vue?0228","webpack:///./src/components/ChatSidebar.vue","webpack:///./src/apis/message.js","webpack:///src/views/PublicRoom.vue","webpack:///./src/views/PublicRoom.vue?82f1","webpack:///./src/views/PublicRoom.vue","webpack:///./src/views/PublicRoom.vue?9351","webpack:///./src/components/layouts/HackathonLayout.vue?81d4","webpack:///src/components/layouts/HackathonLayout.vue","webpack:///./src/components/layouts/HackathonLayout.vue?b965","webpack:///./src/components/layouts/HackathonLayout.vue","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","message","key","id","class","type","notify","_s","text","currentUser","userId","isCurrentUser","_e","attrs","_f","userAvatar","directives","name","rawName","value","expression","domProps","on","$event","indexOf","_k","keyCode","sentMessage","apply","arguments","target","composing","staticRenderFns","mixins","computed","mapState","props","chatData","required","mounted","div","document","querySelector","updated","data","messageData","methods","userName","createdAt","$emit","component","scopedSlots","_u","fn","proxy","user","avatar","account","users","getPublic","apiHelper","get","getPrivate","roomId","components","HackathonLayout","ChatSidebar","ChatRoom","created","fetchHistoryChat","socket","recieveMessage","push","recieveJoin","messageAPI","response","toast","_t","Navbar","MobileNavbar","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","test","byteToHex","toString","substr","stringify","arr","offset","length","undefined","toLowerCase","TypeError","v4","options","buf","rnds","random","i"],"mappings":"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","file":"js/chunk-75b36ad4.96fc39d3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('header',{staticClass:\"header\"},[_vm._v(\"公開聊天室\")]),_c('div',{staticClass:\"chatroom-body\"},[_c('ul',{staticClass:\"message-list\"},_vm._l((_vm.chatData),function(message){return _c('li',{key:message.id,staticClass:\"message-item\"},[_c('div',{class:{\n            message: message.type === 'message',\n            notify: message.type === 'notice',\n          }},[(message.type === 'notice')?_c('div',{staticClass:\"notify-content\"},[_vm._v(\" \"+_vm._s(message.text)+\" \")]):_c('div',{staticClass:\"message-wrapper\",class:[_vm.currentUser.id === message.userId ? 'own' : 'other']},[(!_vm.isCurrentUser(message.userId))?_c('img',{staticClass:\"image\",attrs:{\"src\":_vm._f(\"imageFilter\")(message.userAvatar)}}):_vm._e(),_c('div',[_c('div',{staticClass:\"message-text\",class:{ 'own-text': _vm.isCurrentUser(message.userId) }},[_vm._v(\" \"+_vm._s(message.text)+\" \")]),_c('div',{staticClass:\"message-time\",class:{ 'own-time': _vm.isCurrentUser(message.userId) }},[_vm._v(\" 1:00 \")])])])])])}),0),_c('div',{staticClass:\"message-bar\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"message-input\",attrs:{\"placeholder\":\"輸入訊息...\"},domProps:{\"value\":(_vm.message)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sentMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('svg',{attrs:{\"width\":\"20\",\"height\":\"21\",\"viewBox\":\"0 0 20 21\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"},on:{\"click\":_vm.sentMessage}},[_c('path',{attrs:{\"d\":\"M19.13 9.35798L1.614 0.107979C1.324 -0.0440207 0.974 0.00597923 0.741 0.233979C0.511 0.459979 0.448001 0.810979 0.591001 1.10198L4.953 10.022L0.591001 18.942C0.448001 19.234 0.511 19.585 0.741 19.81C0.886 19.95 1.074 20.022 1.264 20.022C1.384 20.022 1.504 19.994 1.614 19.935L19.131 10.685C19.376 10.555 19.531 10.299 19.531 10.021C19.531 9.74298 19.376 9.48898 19.131 9.35898L19.13 9.35798ZM2.948 2.50998L15.752 9.27198H6.255L2.948 2.51198V2.50998ZM6.255 10.77H15.753L2.948 17.535L6.255 10.772V10.77Z\",\"fill\":\"#FF6600\"}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <header class=\"header\">公開聊天室</header>\n    <div class=\"chatroom-body\">\n      <ul class=\"message-list\">\n        <li\n          v-for=\"message in chatData\"\n          :key=\"message.id\"\n          class=\"message-item\"\n        >\n          <div\n            :class=\"{\n              message: message.type === 'message',\n              notify: message.type === 'notice',\n            }\"\n          >\n            <div class=\"notify-content\" v-if=\"message.type === 'notice'\">\n              {{ message.text }}\n            </div>\n            <div\n              v-else\n              class=\"message-wrapper\"\n              :class=\"[currentUser.id === message.userId ? 'own' : 'other']\"\n            >\n              <img\n                class=\"image\"\n                :src=\"message.userAvatar | imageFilter\"\n                v-if=\"!isCurrentUser(message.userId)\"\n              />\n\n              <div>\n                <div\n                  class=\"message-text\"\n                  :class=\"{ 'own-text': isCurrentUser(message.userId) }\"\n                >\n                  {{ message.text }}\n                </div>\n                <div\n                  class=\"message-time\"\n                  :class=\"{ 'own-time': isCurrentUser(message.userId) }\"\n                >\n                  1:00\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n\n      <div class=\"message-bar\">\n        <input\n          placeholder=\"輸入訊息...\"\n          class=\"message-input\"\n          @keypress.enter=\"sentMessage\"\n          v-model=\"message\"\n        />\n        <svg\n          @click=\"sentMessage\"\n          width=\"20\"\n          height=\"21\"\n          viewBox=\"0 0 20 21\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M19.13 9.35798L1.614 0.107979C1.324 -0.0440207 0.974 0.00597923 0.741 0.233979C0.511 0.459979 0.448001 0.810979 0.591001 1.10198L4.953 10.022L0.591001 18.942C0.448001 19.234 0.511 19.585 0.741 19.81C0.886 19.95 1.074 20.022 1.264 20.022C1.384 20.022 1.504 19.994 1.614 19.935L19.131 10.685C19.376 10.555 19.531 10.299 19.531 10.021C19.531 9.74298 19.376 9.48898 19.131 9.35898L19.13 9.35798ZM2.948 2.50998L15.752 9.27198H6.255L2.948 2.51198V2.50998ZM6.255 10.77H15.753L2.948 17.535L6.255 10.772V10.77Z\"\n            fill=\"#FF6600\"\n          />\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport {v4 as uuidv4 } from 'uuid';\nimport { emptyImageFilter } from \"../utils/mixins.js\";\nexport default {\n  mixins: [emptyImageFilter],\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  props: {\n    chatData: {\n      type: Array,\n      required: false,\n    },\n  },\n  mounted() {\n    var div = document.querySelector(\".message-list\");\n    if(div.lastChild){\n\n      div.lastElementChild.scrollIntoView();\n    }\n  },\n  updated(){\n    var div = document.querySelector(\".message-list\");\n    if(div.lastChild){\n\n      div.lastElementChild.scrollIntoView();\n    }\n  },\n  data() {\n    return {\n      messageData: [],\n      message: \"\",\n    };\n  },\n  methods: {\n    isCurrentUser(userId) {\n      return this.currentUser.id === userId;\n    },\n    sentMessage() {\n      const data = {\n        id: uuidv4(),\n        type: \"message\",\n        userId: this.currentUser.id,\n        userName: this.currentUser.name,\n        userAvatar: this.currentUser.avatar,\n        message: this.message,\n        createdAt: \"1:00\",\n      };\n      this.$emit(\"sent-message\",data);\n      this.message=\"\"\n    },\n  },\n\n};\n</script>\n<style lang=\"scss\" scoped>\n.container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.header {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  font-size: 24px;\n  height: 75px;\n  line-height: 75px;\n  padding-left: 24px;\n  border: 1px solid var(--border-stroke-color);\n  background: var(--input-bg-color);\n  z-index: 150;\n}\n.chatroom-body {\n  background: var(--white-text-color);\n  position: relative;\n\n  padding: 75px 16px 0 16px;\n  border: 1px solid var(--border-stroke-color);\n  padding-bottom: 64px;\n  height: calc(100% - 50px);\n  width: 100%;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n}\n.message-list {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  .message-item {\n    &:first-child {\n      min-height: 60px;\n      margin-top: 77vh;\n      margin-bottom: 15px;\n    }\n  }\n  .notify {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    .notify-content {\n      border-radius: 10px;\n      margin-bottom: 10px;\n      padding: 0 10px;\n      background: var(--notify-bg-color);\n      color: var(--mute-color);\n    }\n  }\n  .message,\n  .notify {\n    margin-bottom: 15px;\n  }\n  .message-wrapper {\n    position: relative;\n    display: flex;\n    font-size: 15px;\n    flex-direction: row;\n    column-gap: 10px;\n    padding-left: 50px;\n  }\n  .own {\n    flex-direction: row-reverse;\n  }\n  .image {\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    bottom: 18px;\n    left: 0;\n  }\n  .message-text {\n    white-space: pre-wrap;\n    word-break: break-word;\n    padding: 10px 15px;\n    border-radius: 30px 30px 30px 0;\n\n    min-width: 40px;\n    background: var(--notify-bg-color);\n  }\n  .own-text {\n    border-radius: 30px 30px 0px 30px;\n    background: var(--primary-color);\n    color: var(--white-text-color);\n  }\n  .message-time {\n    font-size: 13px;\n    color: var(--mute-color);\n  }\n\n  .own-time {\n    float: right;\n  }\n}\n.message-bar {\n  position: absolute;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 64px;\n  column-gap: 16px;\n  background: var(--primay-bg-color);\n  border: 1px solid var(--border-stroke-color);\n  z-index: 999;\n  .message-input {\n    width: 95%;\n    padding: 3px 16px;\n    height: 32px;\n    background: var(--border-stroke-color);\n    border: 1px solid var(--border-stroke-color);\n    border-radius: 50px;\n  }\n}\n@media screen and (min-width: 865px) {\n  .chatroom-body {\n    height: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatRoom.vue?vue&type=template&id=ce33f05c&scoped=true&\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatRoom.vue?vue&type=style&index=0&id=ce33f05c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce33f05c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatSidebar.vue?vue&type=style&index=0&id=fb6947d0&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HackathonLayout.vue?vue&type=style&index=0&id=140bea6f&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=style&index=0&id=ce33f05c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('hackathonLayout',{scopedSlots:_vm._u([{key:\"right-side\",fn:function(){return [_c('div',{staticClass:\"public-room\"},[_c('ChatRoom',{attrs:{\"chatData\":_vm.chatData},on:{\"sent-message\":_vm.sentMessage}})],1)]},proxy:true}])},[[_c('div',{staticClass:\"online-bar\"},[_c('ChatSidebar')],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('header',{staticClass:\"header\"},[_vm._v(\"上線使用者\")]),_c('ul',_vm._l((_vm.users),function(user){return _c('li',{key:user.id,staticClass:\"list-card\"},[_c('img',{attrs:{\"src\":_vm._f(\"imageFilter\")(user.avatar)}}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(user.name))]),_c('div',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(user.account))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <header class=\"header\">上線使用者</header>\n\n    <ul>\n      <li v-for=\"user in users\" :key=\"user.id\" class=\"list-card\">\n        <img :src=\"user.avatar | imageFilter\" />\n        <div class=\"name\">{{ user.name }}</div>\n        <div class=\"account\">@{{ user.account }}</div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport { emptyImageFilter } from \"../utils/mixins.js\";\nexport default {\n  mixins: [emptyImageFilter],\n  data() {\n    return {\n      users: [\n        {\n          id: 1,\n          name: \"apple\",\n          avatar: \"\",\n          account: \"apple\",\n        },\n        {\n          id: 2,\n          name: \"apple\",\n          avatar: \"\",\n          account: \"apple\",\n        },\n        {\n          id: 3,\n          name: \"apple\",\n          avatar: \"\",\n          account: \"apple\",\n        },\n        {\n          id: 4,\n          name: \"apple\",\n          avatar: \"\",\n          account: \"apple\",\n        },\n      ],\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.header {\n  position: fixed;\n  top: 0;\n  width: 28%;\n  font-size: 24px;\n  height: 75px;\n  line-height: 75px;\n  padding-left: 24px;\n  border: 1px solid var(--border-stroke-color);\n  background: var(--input-bg-color);\n}\nul {\n  width: 100%;\n  height: 100%;\n  padding-top: 75px;\n}\n.list-card {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 15px;\n  height: 80px;\n  width: 100%;\n  font-size: 16px;\n  column-gap: 2%;\n  border-bottom: 1px solid var(--border-stroke-color);\n  background: var(--primary-bg-color);\n  img {\n    height: 50px;\n    width: 50px;\n    border-radius: 50%;\n  }\n  .name {\n    color: var(--primary-text-color);\n  }\n  .account {\n    color: var(--mute-color);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatSidebar.vue?vue&type=template&id=fb6947d0&scoped=true&\"\nimport script from \"./ChatSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatSidebar.vue?vue&type=style&index=0&id=fb6947d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb6947d0\",\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from \"../utils/helper\";\n\n\nexport default {\n    getPublic(){\n        return apiHelper.get('/messages/public')\n    },\n    getPrivate({roomId}){\n        return apiHelper.get(`/privateMessages/${roomId}`)\n    }\n};","<template>\n  <hackathonLayout>\n    <template>\n      <div class=\"online-bar\">\n        <ChatSidebar />\n      </div>\n    </template>\n    <template v-slot:right-side>\n      <div class=\"public-room\">\n        <ChatRoom :chatData=\"chatData\" @sent-message=\"sentMessage\" />\n      </div>\n    </template>\n  </hackathonLayout>\n</template>\n<script>\nimport HackathonLayout from \"../components/layouts/HackathonLayout.vue\";\nimport ChatSidebar from \"../components/ChatSidebar.vue\";\nimport ChatRoom from \"../components/ChatRoom.vue\";\nimport messageAPI from \"../apis/message.js\";\nimport {toast} from \"../utils/helper.js\";\nimport {socket} from \"../utils/socket.js\";\nimport { v4 } from 'uuid';\n\nexport default {\n  components: {\n    HackathonLayout,\n    ChatSidebar,\n    ChatRoom,\n  },\n  data() {\n    return {\n      chatData: [],\n    };\n  },\n  created(){\n    this.fetchHistoryChat()\n  },\n  mounted(){\n    socket.onChatMessage(this.recieveMessage);\n    socket.emitJoin();\n    socket.onJoin(this.recieveJoin);\n  },\n  methods: {\n    sentMessage(data) {\n      const {message}=data;\n      socket.emitChatMessage(message);\n      \n    },\n    recieveMessage(message){\n      this.chatData.push(message)\n    },\n    recieveJoin(data){\n      this.chatData.push({\n        id:v4(),\n        type:data.type,\n        text:data.message\n      })\n    },\n    async fetchHistoryChat(){\n      try{\n        const response = await messageAPI.getPublic();\n        if(response.statusText!==\"OK\"){\n          throw new Error('wrong response')\n        }\n        \n        response.data.forEach(item=>{\n          this.chatData.push({\n            id:v4(),\n            userId:item.User.id,\n            text:item.content,\n            createdAt:item.createdAt,\n            userName:item.User.name,\n            userAvatar:item.User.avatar,\n            type:'message'\n          })\n        })\n        // this.chatData.push(...response.data);\n      }catch(e){\n        toast.fireError('取得訊息記錄');\n      }\n    }\n  }, \n\n};\n</script>\n<style lang=\"scss\" scoped>\n.online-bar {\n  background-color: rgba(0, 255, 0, 0.3);\n  width: 100%;\n  height: 100%;\n}\n.public-room {\n  background-color: rgba(255, 0, 0, 0.3);\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicRoom.vue?vue&type=template&id=77c1e999&scoped=true&\"\nimport script from \"./PublicRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicRoom.vue?vue&type=style&index=0&id=77c1e999&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c1e999\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicRoom.vue?vue&type=style&index=0&id=77c1e999&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hachathon-container\"},[_c('Navbar'),_c('MobileNavbar'),_c('div',{staticClass:\"middle-slot\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"right-slot\"},[_vm._t(\"right-side\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"hachathon-container\">\n    <Navbar />\n    <MobileNavbar/>\n    <div class=\"middle-slot\">\n      <slot></slot>\n    </div>\n    <div class=\"right-slot\">\n      <slot name=\"right-side\"></slot>\n    </div>\n  </div>\n</template>\n<script>\nimport Navbar from \"../Navbar.vue\";\nimport MobileNavbar from \"../MobileNavbar.vue\"\nexport default {\n  components: {\n    Navbar,\n    MobileNavbar\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.hachathon-container {\n  display: flex;\n  flex-direction: row;\n}\n.middle-slot {\n  display: none;\n  width: 28%;\n  height: 100%;\n}\n.right-slot {\n  flex: 3;\n  display: inline-flex;\n  height: 100vh;\n}\n@media screen and (min-width: 575px) {\n  .middle-slot {\n    display: block;\n  }\n}\n@media screen and (min-width: 865px) {\n  .middle-slot {\n    margin-left: 17%;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HackathonLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HackathonLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HackathonLayout.vue?vue&type=template&id=140bea6f&scoped=true&\"\nimport script from \"./HackathonLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./HackathonLayout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HackathonLayout.vue?vue&type=style&index=0&id=140bea6f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"140bea6f\",\n  null\n  \n)\n\nexport default component.exports","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;"],"sourceRoot":""}